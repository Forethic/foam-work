# 0004-pypeteer-基本使用

## 标签

## 内容

```bash {.line-numbers}
 pip install pyppeteer==1.0.2 -i https://pypi.tuna.tsinghua.edu.cn/simple
```

> pypeteer
>
> 1. 默认不显示浏览器界面
> 2. 默认显示的浏览器界面窗口大小不大，需要自己设置
> 3. 执行js代码的函数: evaluate
> 4. 跳过检测，进入到launcher.py 文件中见 --enable-automation 注释掉即可

```python {.line-numbers}
from pypeteer import launch

async def main():
    width, height = 1366,768
    args = ['--disable-infobars', f'--window-size={width},{height}'] # 设置窗口大小
    browser = await launch(headless=True, args=args) # 开启浏览器界面
    page = await browser.newPage()
    await page.setViewport({'width': width, 'height': height}) # 设置视窗大小
    await page.goto("https://www.baidu.com")
    await page.screenshot({'path':'百度.png'})
    await page.close()

asyncio.get_event_loop().run_until_complete(main())
```


## 参考
