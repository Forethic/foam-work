# 0001-scrapy-自定义中间件

## 标签

## 内容

1. 在middlewares.py 中自定义个 xxxxDownloadMiddleware 或者 xxxSpiderMiddleware
2. 在settings.py 的DWONLOADER_MIDDLEWARES 的列表中定义 '项目名称.middlewares'中间件名称替换成自己的自定义中间件名称': 权重值，权重值不能乱改

下载中间件的方法的注意事项

- process_request(self, request, spider)
  - 每次request通过下载中间件时，该方法被调用
  - 返回None值：将request对象传递给下载器或通过引擎传递给其他权重低的process_request方法
  - 返回Response对象，不再请求，将response对象传递给引擎
  - 返回Request对象，把request对象传递给调度器，此时不会传递给其他权重低的process_request方法

## 参考
